#{extends 'content.html' /}
#{set title:user.userName + ' Settings'/}

#{set contentCenterClass:'settings' /}

<div class="bloccontent" style="margin-left:10px;">
    #{form @Application.saveSettings(), enctype:'multipart/form-data', id:'userSettingsForm', name:'userSettingsForm',  class:'bigform', autocomplete:'off'}
    	<h2 class="cuf-grb">&{'settings.title'}</h2>
    	<div class="item-input">
    		<label class="label" for="username">&{'settings.userName'}</label>
        	<input type="text" name="username" id="username" value="${user.userName}"/>
        	#{if errors.forKey('username')}<span class="error">#{error 'username' /}</span>#{/if}
        </div>
        <div class="item-input">
            <label class="label" for="uiLanguage">&{'uiLanguage'}</label>
            <select name="uiLanguage" id="uiLanguage">
                <option value="en" #{if user.uiLanguage.label.equals("en")}selected#{/if}>&{'settings.languages.en'}</option>
                <option value="fr" #{if user.uiLanguage.label.equals("fr")}selected#{/if}>&{'settings.languages.fr'}</option>
            </select>
        </div>
        <div class="item-input">
            <label class="label">&{'settings.writtingLanguages'}</label>
            <select name="firstWrittingLanguage">
                <option value="en" #{if user.writtingLanguage.label.equals("en")    }selected#{/if} >&{'settings.languages.en'}     </option>
                <option value="fr" #{if user.writtingLanguage.label.equals("fr")    }selected#{/if} >&{'settings.languages.fr'}     </option>
            </select>
            <select name="secondWrittingLanguage">
                <option value="none"#{if user.secondWrittingLanguage == null        }selected#{/if} >&{'settings.languages.none'}           </option>
                <option value="en" #{if user.secondWrittingLanguage?.label.equals("en")   }selected#{/if} >&{'settings.languages.en'}     </option>
                <option value="fr" #{if user.secondWrittingLanguage?.label.equals("fr")   }selected#{/if} >&{'settings.languages.fr'}     </option>
            </select>
        </div>

        <div class="item-input">
            <h3 class="label">&{'settings.mails'}</h3>
            <ul class="settings-checklist">
	            <li class="checkitem"><input type="checkbox" name="followMail"  #{if user.followMail}checked#{/if}         id="followMail">  <label for="followMail"> &{'settings.followMail'}</label></li>
	            <li class="checkitem"><input type="checkbox" name="messageMail" #{if user.messageMail}checked#{/if}         id="messageMail"> <label for="messageMail"> &{'settings.messageMail'}</label></li>
	            <li class="checkitem"><input type="checkbox" name="commentCreatedMail" #{if user.commentCreatedMail}checked#{/if}  id="commentCreatedMail"> <label for="commentCreatedMail"> &{'settings.commentCreatedMail'}</label></li>
	            <li class="checkitem"><input type="checkbox" name="commentFavoriteMail" #{if user.commentFavoriteMail}checked#{/if} id="commentFavoriteMail"> <label for="commentFavoriteMail"> &{'settings.commentFavoriteMail'}</label></li>
	            <li class="checkitem"><input type="checkbox" name="commentCommentMail" #{if user.commentCommentMail}checked#{/if}  id="commentCommentMail"> <label for="commentCommentMail"> &{'settings.commentCommentMail'}</label></li>
	            <li class="checkitem"><input type="checkbox" name="commentMentionMail" #{if user.commentMentionMail}checked#{/if}  id="commentMentionMail"> <label for="commentMentionMail"> &{'settings.commentMentionMail'}</label></li>
            </ul>
        </div>
        
        *{
        <div class="item-input">
            <h3 class="label">&{'settings.newsletters'}</h3>
            <ul class="settings-checklist">
                <li class="checkitem"><input type="checkbox" name="upcomingNewsletter"   #{if user.upcomingNewsletter}checked#{/if}         id="upcomingNewsletter"> <label for="upcomingNewsletter"> &{'settings.upcomingNewsletter'}</label></li>
                <li class="checkitem"><input type="checkbox" name="statusNewsletter"  #{if user.statusNewsletter}checked#{/if}         id="statusNewsletter">  <label for="statusNewsletter"> &{'settings.statusNewsletter'}</label></li>
            </ul>
        </div>
        }*
        
        <div class="item-checkbox" style="float: left;">
            <a href="@{Application.changePassword()}">&{'settings.changePassword'}</a>
        </div>
        
        <div class="item-submit line-form">
            <button id="submitcreate"><span class="backbutton"></span><span class="txtbutton cuf-create">&{'settingsSubmit'}</span></button>
        </div>
        

    #{/form}
</div>
